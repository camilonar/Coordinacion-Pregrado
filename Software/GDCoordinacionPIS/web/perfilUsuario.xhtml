<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <ui:composition template="#{sesionController.plantilla}">

        <ui:define name="body">

            <h:head>    

            </h:head>  
            <h:body>   
                <p:growl id="msgConEx" showDetail="true" life="4000" autoUpdate="true" globalOnly="true"/> 
                <h:form  id="formularioPerfilDatosPersonales" >   

                    <span style="text-align: center">
                        <div id="infoperfil" >

                            <p:panelGrid style="margin:  0 auto; width: 95%;">

                                <f:facet name="header">
                                       
                                    <p:row>
                                        
                                        <p:column colspan="2" style="height: 19px; font-size: medium;">Perfil de usuario</p:column>
                                        
                                    </p:row>


                                </f:facet>


                                <p:row>
                                    <p:column>
                                        <p:graphicImage value="#{sesionController.imagenFlujo}"  
                                                        width="140"  height="140" >
                                            <f:param name="id" value="#{sesionController.identificacion}" />
                                        </p:graphicImage> 
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                            <p:spacer height="20px;"/>

                            <p:panelGrid  style="margin:  0 auto; width: 95%;">

                                <f:facet name="header">
                                    <p:row>
                                        <p:column colspan="2">Información personal</p:column>
                                    </p:row>


                                </f:facet>

                                <p:row>
                                    <p:column style="width: 50%;">
                                        <p:outputLabel style="font-weight:bold;" value="Nombre(s): "/>

                                    </p:column>
                                    <p:column>
                                        <p:outputLabel  value="#{perfilUsuarioController.usuario.usunombres}"/>

                                    </p:column>
                                </p:row>


                                <p:row>
                                    <p:column>
                                        <p:outputLabel style="font-weight:bold;" value="Apellido(s): "/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel value="#{perfilUsuarioController.usuario.usuapellidos} "/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column>
                                        <p:outputLabel style="font-weight:bold;" value="Cargo:"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel value="#{perfilUsuarioController.usuario.carid.carnombre}"/>
                                    </p:column>
                                </p:row>

                            </p:panelGrid>

                            <p:spacer height="20px;"/>



                            <p:panelGrid style="margin:  0 auto; width: 95%;">

                                <f:facet name="header">
                                    <p:row>
                                        <p:column colspan="2">Credenciales de acceso</p:column>
                                    </p:row>


                                </f:facet>

                                <p:row>
                                    <p:column  style="width: 50%;">
                                        <p:outputLabel style="font-weight:bold;" value="Nombre de usuario: "/>
                                    </p:column>
                                    <p:column> 
                                        <p:outputLabel value="#{perfilUsuarioController.usuario.usunombreusuario}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column  rendered="#{perfilUsuarioController.mostrarContrasena}">
                                        <p:outputLabel style="font-weight:bold;" value="Contraseña: "/>
                                    </p:column>

                                    <p:column  rendered="#{!perfilUsuarioController.mostrarContrasena}">
                                        <p:outputLabel style="font-weight:bold;" value="Contraseña:"/>
                                        <p:outputLabel style=";color:red;" value="* "/>
                                    </p:column>


                                    <p:column  rendered="#{perfilUsuarioController.mostrarContrasena}">
                                        <p:outputLabel  value=" **********"/>
                                    </p:column>

                                    <p:column  rendered="#{!perfilUsuarioController.mostrarContrasena}">
                                        <p:password  value="#{perfilUsuarioController.contrasena}" style="width:49%; text-align: center; "/>  
                                    </p:column>



                                </p:row>

                                <p:row>


                                    <p:column  rendered="#{!perfilUsuarioController.mostrarContrasena}">
                                        <p:outputLabel style="font-weight:bold;" value="Confirmar contraseña:"/>
                                        <p:outputLabel style=";color:red;" value="* "/>
                                    </p:column>
                                    <p:column  rendered="#{!perfilUsuarioController.mostrarContrasena}" >
                                        <p:password  value="#{perfilUsuarioController.confirmarContrasena}" style="width:49%; text-align: center;"/>  
                                    </p:column>                                  

                                </p:row>


                                <p:row>
                                    <p:column style="width: 50%;">
                                        <p:outputLabel rendered="#{perfilUsuarioController.mostrarContrasena}" style="font-weight:bold;" value="Opciones de contraseña:"/>
                                        <p:outputLabel rendered="#{!perfilUsuarioController.mostrarContrasena}" style="font-weight:bold;" value="¿Guardar cambios?:"/>

                                    </p:column>
                                    <p:column>

                                        <p:commandButton  style="float: none;" rendered="#{perfilUsuarioController.mostrarContrasena}"  value="Editar contraseña" icon="ui-icon-pencil" action="#{perfilUsuarioController.mostrarModificarContrasena()}"/>

                                        <p:commandButton icon="ui-icon-trash" rendered="#{!perfilUsuarioController.mostrarContrasena}" style="width: 25%;" value="Cancelar" 
                                                         action="#{perfilUsuarioController.cancelarActualizarContrasena()}"/>
                                        <p:commandButton icon="ui-icon-check" rendered="#{!perfilUsuarioController.mostrarContrasena}" style="width: 25%" value="Aceptar" action="#{perfilUsuarioController.cambiarContrasena()}" />


                                    </p:column>
                                </p:row>



                            </p:panelGrid>

                            <p:spacer width="20px"/>

                            <p:panelGrid style="margin:  0 auto; width: 95%;">




                            </p:panelGrid>








                            <p:spacer width="20px"/>

                        </div>
                    </span>

                </h:form>
            </h:body>
        </ui:define>
    </ui:composition>

</html>
